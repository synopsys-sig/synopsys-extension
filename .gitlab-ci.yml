include:
  - local: '.gitlab-ci-template.yml'


# List of job stages in their order of execution.
stages:
  - build
  - unit_test_and_coverage


variables:
  BUILD_TOOL: npm
  GIT_DEPTH: 10
  BD_PRODUCT_GROUP: PolarisNG Projects Group
  BD_VERSION_PHASE: DEVELOPMENT
  PUBLISHER_ID: E2Etest
  ORG_NAME : centralintegrations
  TESTNG_FAILED_XML: test-output/testng-failed.xml
  DISABLE_POLARIS_CLASSIC_ANALYSIS: "true"


##### MERGE REQUEST PIPELINE #####

build_job:
  extends:
    - .build
  stage: build

unit_test_and_coverage_job:
  stage: unit_test_and_coverage
  extends:
    -  .unit_test_and_coverage
  dependencies: [build_job]